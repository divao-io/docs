<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Divao Passwordless: </title>
    
      <link type="text/css" rel="stylesheet" href="styles/vendor/prism-tomorrow-night.css">
    
    <link type="text/css" rel="stylesheet" href="styles/styles.css">
    
</head>
<body>

<header class="layout-header">
  
  <h1>
    <a href="./index.html">
      Divao Passwordless
    </a>
  </h1>
  <nav class="layout-nav">
    <ul><li class="nav-heading">Classes</li><li class="nav-heading"><span class="nav-item-type type-class" title="class">C</span><span class="nav-item-name is-class"><a href="Divao.html">Divao</a></span></li><li class="nav-item"><span class="nav-item-type type-member" title="member">M</span><span class="nav-item-name is-member"><a href="Divao.html#JWT">JWT</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="Divao.html#close">close</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="Divao.html#sign">sign</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="Divao.html#signout">signout</a></span></li><li class="nav-heading"><span class="nav-item-type type-class" title="class">C</span><span class="nav-item-name is-class"><a href="JWT.html">JWT</a></span></li><li class="nav-item"><span class="nav-item-type type-member" title="member">M</span><span class="nav-item-name is-member"><a href="JWT.html#header">header</a></span></li><li class="nav-item"><span class="nav-item-type type-member" title="member">M</span><span class="nav-item-name is-member"><a href="JWT.html#payload">payload</a></span></li><li class="nav-item"><span class="nav-item-type type-member" title="member">M</span><span class="nav-item-name is-member"><a href="JWT.html#signature">signature</a></span></li></ul><li class="nav-heading"><a href="global.html">Globals</a></li><li class="nav-item"><span class="nav-item-type type-typedef" title="typedef">T</span><span class="nav-item-name is-typedef"><a href="global.html#JsonWebTokenPayload">JsonWebTokenPayload</a></span></li><li class="nav-item"><span class="nav-item-type type-typedef" title="typedef">T</span><span class="nav-item-name is-typedef"><a href="global.html#Method">Method</a></span></li><li class="nav-item"><span class="nav-item-type type-event" title="event">E</span><span class="nav-item-name is-event"><a href="global.html#event:DivaoApiLoaded">DivaoApiLoaded</a></span></li><li class="nav-item"><span class="nav-item-type type-event" title="event">E</span><span class="nav-item-name is-event"><a href="global.html#event:DivaoSignOn">DivaoSignOn</a></span></li>
  </nav>
</header>


<main class="layout-main ">
  <div class="container">
    <p class="page-kind"></p>
    <h1 class="page-title"></h1>
    



    




    <section class="readme">
        <article><h1>Divao Passwordless</h1>
<p>Divao Passwordless Sign-On allows you to sign-up and sign-in users without any passwords.</p>
<h2>How Does it work?</h2>
<p>Divao Passworldess helps service providers verify their user's digital identity (e.g. email address, phone number).</p>
<ol>
<li>User provides the digital identity (e.g. <code>john@example.org</code>)</li>
<li>Divao sends a message with a secret link (e.g. <code>https://divao.io/x2IOrGDkLNVZsDYptNXaAg</code>)</li>
<li>User clicks on the secret link, thereby proving that they own that digital identity</li>
<li>Divao issues a standardized <a href="https://en.wikipedia.org/wiki/JSON_Web_Token">JSON Web Token (JWT)</a> that can be verified on the backend</li>
</ol>
<h2>Getting started</h2>
<h3>How to add Divao Passwordless to your web app</h3>
<p>With these four simple steps you can add Divao Passwordless to your web app.</p>
<h4>1. Include JavaScript</h4>
<p>Inlcude the Divao library by adding the following line of code to your website:</p>
<pre class="prettyprint source lang-html"><code>&lt;script async data-api-key=&quot;YOUR_DIVAO_API_KEY&quot; src=&quot;https://api.divao.io/v1/&quot;>&lt;/script>
</code></pre>
<h4>2. Show sign dialog</h4>
<p>Show the Divao sign dialog:</p>
<pre class="prettyprint source lang-html"><code>&lt;button onclick=&quot;Divao.sign()&quot;>Sign without password&lt;/button>
</code></pre>
<h4>3. React to the sign-in</h4>
<p>Retrieve the token:</p>
<pre class="prettyprint source lang-js"><code>window.addEventListener(&quot;DivaoSignOn&quot;, () =>
{
    if(Divao.JWT !== null)
    {
        console.log(Divao.JWT.payload.sub); //e.g. alice@example.org
        console.log(Divao.JWT.toString()) //e.g. eyJhbGciO...
        const header = `Bearer ${Divao.JWT}`;    
        //use to call backend API
    }
    else
    {
        console.log(&quot;not signed in&quot;);
    }
}
</code></pre>
<h4>4. Verify token</h4>
<p>Verify the token on your backend:</p>
<pre class="prettyprint source lang-js"><code>import {JWT} from &quot;jose&quot;;

const payload = JWT.verify(jwt, DIVAO_PUBLIC_KEY, {aud: &quot;acme.example.com&quot;});
if(payload !== null)
{
    //user is logged in
    console.log(payload.sub); //e.g. john@example.org
}
</code></pre></article>
    </section>






  </div>
</main>

<footer class="layout-footer">
  <div class="container">
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.6</a>
  </div>
</footer>



<script src="scripts/prism.dev.js"></script>
</body>
</html>